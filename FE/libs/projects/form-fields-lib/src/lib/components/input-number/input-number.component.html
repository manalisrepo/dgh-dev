<div class="input" [formGroup]="group">
  <mat-form-field appearance="outline" class="full-width">
    <mat-label
      >{{ label }}
      <span *ngIf="isRequired" class="mandatory-style">*</span></mat-label
    >

    <div class="number-input-container">
      <!-- Decrease Button -->
      <button
        mat-icon-button
        color="primary"
        (click)="down()"
        [disabled]="groupControl?.value <= minNum"
      >
        <mat-icon>remove</mat-icon>
      </button>

      <!-- Input Field -->
      <input
        matInput
        type="number"
        [placeholder]="placeholder"
        [formControlName]="fieldName"
        [min]="minNum"
        [max]="maxNum"
        [step]="step"
        autocomplete="off"
        maxlength="80"
        (blur)="onBlur($event)"
        (input)="onInputChange($event)"
      />

      <!-- Increase Button -->
      <button
        mat-icon-button
        color="primary"
        (click)="up()"
        [disabled]="groupControl?.value >= maxNum"
      >
        <mat-icon>add</mat-icon>
      </button>
    </div>

    <!-- Error Messages -->
    <mat-error
      *ngIf="
        groupControl?.invalid && (groupControl?.dirty || groupControl?.touched)
      "
    >
      <ng-container *ngFor="let err of errors">
        <span *ngIf="groupControl?.hasError(err.type)">{{ err.message }}</span>
      </ng-container>
    </mat-error>

    <!-- Tooltip -->
    <mat-hint *ngIf="showTooltip">
      <mat-icon
        class="tooltip-icon"
        matTooltip="{{ tooltipText }}"
        matTooltipPosition="above"
      >
        info
      </mat-icon>
    </mat-hint>
  </mat-form-field>
</div>
